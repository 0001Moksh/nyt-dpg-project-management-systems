# ================================================================
# DPG PROJECT MANAGEMENT SYSTEM - PRODUCTION ENVIRONMENT
# ================================================================
# Copy this file to .env and replace all values with production data
# NEVER commit this file to version control
# ================================================================

# ===== FRONTEND CONFIGURATION =====
# These values are accessible in browser (NEXT_PUBLIC prefix)
NEXT_PUBLIC_API_BASE_URL=https://api.dpg-itm.edu.in
NEXT_PUBLIC_APP_NAME=DPG Project Management System
NEXT_PUBLIC_COLLEGE_NAME=DPG ITM College
NEXT_PUBLIC_COMPANY_NAME=NexyugTech

# ===== BACKEND CONFIGURATION =====
FASTAPI_BASE_URL=https://api.dpg-itm.edu.in
FASTAPI_DEBUG=false

# ===== POSTGRESQL DATABASE CONFIGURATION =====
# Format: postgresql://username:password@host:port/database
# Example: postgresql://dpg_user:secure_password@dpg-pms-db.postgres.database.azure.com:5432/dpg_pms
DATABASE_URL=postgresql://dpg_user:secure_password@dpg-pms-db.postgres.database.azure.com:5432/dpg_pms
DATABASE_POOL_SIZE=20
DATABASE_POOL_RECYCLE=3600

# ===== AUTHENTICATION CONFIGURATION =====
# JWT Secret Key - MUST be 32+ characters, use strong random string
# Generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-minimum-32-characters
JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=24

# OTP Configuration
OTP_EXPIRY_MINUTES=5
OTP_LENGTH=6

# ===== SMTP EMAIL CONFIGURATION =====
# Gmail Setup Instructions:
# 1. Enable 2-Factor Authentication: https://myaccount.google.com/security
# 2. Generate App Password: https://myaccount.google.com/apppasswords
# 3. Select "Mail" and "Windows Computer"
# 4. Copy the 16-character password below

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=xxxx xxxx xxxx xxxx
SMTP_FROM_EMAIL=noreply@dpg-itm.edu.in
SMTP_FROM_NAME=DPG Project Management System

# Alternative SMTP Providers:
# SendGrid:
#   SMTP_HOST=smtp.sendgrid.net
#   SMTP_PORT=587
#   SMTP_USER=apikey
#   SMTP_PASSWORD=SG.your-sendgrid-api-key

# Microsoft 365:
#   SMTP_HOST=smtp.office365.com
#   SMTP_PORT=587
#   SMTP_USER=your-email@outlook.com
#   SMTP_PASSWORD=your-outlook-password

# AWS SES:
#   SMTP_HOST=email-smtp.region.amazonaws.com
#   SMTP_PORT=587
#   SMTP_USER=your-ses-username
#   SMTP_PASSWORD=your-ses-password

# ===== GROQ LLM CONFIGURATION =====
# Get API Key: https://console.groq.com/keys
GROQ_API_KEY=your-groq-api-key
GROQ_MODEL_NAME=mixtral-8x7b-32768

# Supported Models:
# - mixtral-8x7b-32768 (recommended for general purpose)
# - llama2-70b-4096
# - gemma-7b-it

# ===== RAG (RETRIEVAL-AUGMENTED GENERATION) CONFIGURATION =====
RAG_MODEL_NAME=ollama
RAG_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# ===== ONEDRIVE/AZURE STORAGE CONFIGURATION =====
# For file uploads and document storage
# Setup: https://learn.microsoft.com/en-us/azure/storage/
ONEDRIVE_CLIENT_ID=your-azure-client-id
ONEDRIVE_CLIENT_SECRET=your-azure-client-secret
ONEDRIVE_TENANT_ID=your-azure-tenant-id
ONEDRIVE_FOLDER_ID=your-onedrive-folder-id

# ===== CORS CONFIGURATION =====
# Comma-separated list of allowed origins
# Format: https://domain1.com,https://domain2.com
CORS_ORIGINS=https://dpg-pms.vercel.app,https://dpg.dpg-itm.edu.in,https://admin.dpg-itm.edu.in

# ===== SECURITY CONFIGURATION =====
# Allowed email domains (comma-separated)
ALLOWED_DOMAINS=@dpg-itm.edu.in

# Maximum file upload size in MB
MAX_FILE_SIZE_MB=50

# ===== NOTIFICATIONS CONFIGURATION =====
# Enable/disable notification channels
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_IN_APP_NOTIFICATIONS=true

# ===== LOGGING CONFIGURATION =====
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=info

# Production log file path
LOG_FILE_PATH=/var/log/dpg-pms/app.log

# ===== API RATE LIMITING (Optional) =====
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# ===== SESSION CONFIGURATION =====
SESSION_TIMEOUT_HOURS=24
REFRESH_TOKEN_EXPIRY_DAYS=7

# ===== MONITORING & ANALYTICS (Optional) =====
# Sentry Error Tracking
SENTRY_DSN=your-sentry-dsn

# Application Insights (Azure)
APPINSIGHTS_INSTRUMENTATION_KEY=your-app-insights-key

# ===== REDIS CONFIGURATION (Optional, for caching) =====
REDIS_URL=redis://localhost:6379/0

# ===== DEPLOYMENT CONFIGURATION =====
# Environment identifier
ENVIRONMENT=production

# Application version
APP_VERSION=1.0.0

# API prefix
API_PREFIX=/api/v1

# ===== FEATURE FLAGS (Optional) =====
FEATURE_CHATBOT_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_LEADERBOARD_ENABLED=true
FEATURE_FILE_UPLOAD_ENABLED=true

# ================================================================
# SETUP INSTRUCTIONS FOR EACH SERVICE
# ================================================================

# 1. POSTGRESQL DATABASE
# ========================
# Option A: Azure Database for PostgreSQL
#   - Create via Azure Portal
#   - Get connection string: Server → Connection strings
#   - Allow firewall rules for your IP
#
# Option B: AWS RDS PostgreSQL
#   - Create via AWS Console
#   - Get endpoint: Databases → Connectivity & security
#
# Option C: DigitalOcean Managed Database
#   - Create database cluster
#   - Get connection string from dashboard

# 2. SMTP EMAIL SERVICE
# ========================
# Gmail (Recommended for testing):
#   1. Enable 2FA: https://myaccount.google.com/security
#   2. Create App Password: https://myaccount.google.com/apppasswords
#   3. Use app password (16 chars, no spaces in env)
#
# Production Options:
#   - SendGrid (free tier available)
#   - AWS SES
#   - Microsoft 365
#   - Mailgun
#   - Postmark

# 3. GROQ LLM API
# ========================
# Free account includes:
#   - 30 requests per minute
#   - Various model access
#
# Get key:
#   1. Sign up: https://console.groq.com
#   2. Navigate to API Keys
#   3. Create new key
#   4. Copy to GROQ_API_KEY

# 4. AZURE STORAGE (OneDrive)
# ========================
# For document/file storage:
#   1. Create Azure Storage Account
#   2. Create App Registration in Azure AD
#   3. Grant appropriate permissions
#   4. Copy credentials to env

# 5. MONITORING (Optional)
# ========================
# Sentry (Error Tracking):
#   1. Create account: https://sentry.io
#   2. Create project for FastAPI
#   3. Copy DSN to SENTRY_DSN
#
# Application Insights (Azure):
#   1. Create resource in Azure Portal
#   2. Copy instrumentation key

# ================================================================
# SECURITY BEST PRACTICES
# ================================================================

# 1. STRONG PASSWORDS
#    - JWT_SECRET_KEY: 32+ random characters
#    - Database password: 16+ mixed case + numbers + symbols
#
# 2. API KEY ROTATION
#    - Rotate GROQ_API_KEY quarterly
#    - Rotate SMTP password if credentials compromised
#    - Update JWT_SECRET_KEY periodically
#
# 3. ACCESS CONTROL
#    - Limit CORS_ORIGINS to necessary domains only
#    - Use VPN for admin access
#    - Enable database firewall rules
#
# 4. ENCRYPTION
#    - Use HTTPS only (no HTTP)
#    - Use SSL certificates (Let's Encrypt free)
#    - Encrypt sensitive data at rest
#
# 5. MONITORING
#    - Enable access logs
#    - Monitor failed login attempts
#    - Set up alerts for errors
#    - Regular security audits

# ================================================================
# VERIFY YOUR CONFIGURATION
# ================================================================

# Test Database Connection:
#   psql "postgresql://dpg_user:password@host:5432/dpg_pms" -c "\dt"
#
# Test SMTP Connection:
#   python -c "import smtplib; s=smtplib.SMTP('smtp.gmail.com',587); s.starttls(); s.login('email','password'); print('OK')"
#
# Test Groq API:
#   curl -X POST "https://api.groq.com/chat/completions" \
#     -H "Authorization: Bearer $GROQ_API_KEY" \
#     -H "Content-Type: application/json" \
#     -d '{"model":"mixtral-8x7b-32768","messages":[{"role":"user","content":"Hello"}]}'

# ================================================================
# DO NOT MODIFY BELOW THIS LINE
# ================================================================

# These are computed values - set by deployment scripts
# DEPLOYMENT_TIME=2024-01-15T14:30:00Z
# DEPLOYMENT_VERSION=1.0.0
# DEPLOYMENT_BRANCH=main
